<ion-header>

  <ion-navbar color="primary">
    <ion-title id="title">Administrar Medicamentos</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>

  <h3 text-center>{{ prontuario?.nomeDoPaciente ? prontuario.nomeDoPaciente : 'Paciente não identificado' }}</h3>
  <h5 text-center class="mb-0 text-muted">
    {{ prontuario?.leito?.ala?.Ala ?
    prontuario.leito.ala.Ala : 'Ala não identificada' }}
  </h5>
  <h5 text-center class="text-muted mt-0">Leito {{ prontuario?.leito?.leito ? prontuario.leito.leito : 'não identificado' }}</h5>
  <ion-segment id="segment" color="primary" [(ngModel)]="dados">
    <ion-segment-button value="aprazamentos">
      Aprazamentos
    </ion-segment-button>
    <ion-segment-button value="detalhes">
      Detalhes
    </ion-segment-button>
  </ion-segment>
  <div [ngSwitch]="dados">
    <div *ngSwitchCase="'aprazamentos'">
      <ion-list>
        <ion-item text-wrap *ngFor="let aprazamento of aprazamentos">
          <ion-toggle [(ngModel)]="aprazamento.checked"></ion-toggle>
          <ion-label>
            <h3>
              <strong>Medicamento:</strong>
              {{ aprazamento?.aprazamento?.itemPrescricao?.descricaoItem &&
              aprazamento?.aprazamento?.itemPrescricao?.administracao &&
              aprazamento?.aprazamento?.itemPrescricao?.frequencia ?
              aprazamento.aprazamento.itemPrescricao.descricaoItem + ' - ' +
              aprazamento.aprazamento.itemPrescricao.administracao + ' - ' +
              aprazamento.aprazamento.itemPrescricao.frequencia + 'h/' +
              aprazamento.aprazamento.itemPrescricao.frequencia + 'h' : 'Medicamento não identificado'}}
            </h3>
            <h3>
              <strong>Horário Aprazamento:</strong>
              {{ aprazamento?.aprazamento?.horarioInicial ?
              (aprazamento.aprazamento.horarioInicial | date:'HH:mm - dd/MM/yy') : 'Não identificado' }}
            </h3>
            <h3>
              <strong>Prescrição:</strong>
              {{ aprazamento?.aprazamento?.cdPrescricao ?
              aprazamento.aprazamento.cdPrescricao : 'Não identificado' }}
            </h3>
          </ion-label>
        </ion-item>
      </ion-list>
    </div>
    <div *ngSwitchCase="'detalhes'">
      <p>
        <strong>Prontuário:</strong>
        {{ prontuario?.prontuario ? prontuario.prontuario : 'Não identificado' }}
      </p>
      <p>
        <strong>Data de nascimento:</strong>
        {{ prontuario?.dataNascimento ?
        prontuario.dataNascimento : 'Não identificado' }}
      </p>
      <p>
        <strong>Sexo:</strong>
        {{ prontuario?.sexo ? prontuario.sexo : 'Não identificado' }}
      </p>
      <p>
        <strong>Nome da Mãe:</strong>
        {{ prontuario?.nomeMae ? prontuario.nomeMae : 'Não identificado' }}
      </p>
    </div>
  </div>
  <ion-fab right bottom>
    <button ion-fab color="secondary" (click)="confirm()" [disabled]="getAprazamentosChecked().length === 0 || isModalRunning">
      <ion-icon name="checkmark"></ion-icon>
    </button>
  </ion-fab>

</ion-content>