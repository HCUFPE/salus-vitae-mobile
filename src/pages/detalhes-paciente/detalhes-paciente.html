<ion-header>

  <ion-navbar color="primary">
    <ion-title id="title">Administração</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>

  <h3 text-center>{{ prontuario?.nomeDoPaciente ? prontuario.nomeDoPaciente : 'Paciente não identificado' }}</h3>
  <h5 text-center>{{ prontuario?.leito?.ala?.Ala ?
    prontuario.leito.ala.Ala : 'Ala não identificada' }}</h5>
  <h5 text-center>Leito {{ prontuario?.leito?.leito ? prontuario.leito.leito : 'não identificado' }}</h5>
  <ion-segment id="segment" color="primary" [(ngModel)]="dados">
    <ion-segment-button value="aprazamentos">
      Aprazamentos
    </ion-segment-button>
    <ion-segment-button value="detalhes">
      Detalhes
    </ion-segment-button>
  </ion-segment>
  <div [ngSwitch]="dados">
    <div *ngSwitchCase="'aprazamentos'">
      <ion-list>
        <ion-item text-wrap *ngFor="let aprazamento of aprazamentos">
          <ion-toggle [(ngModel)]="aprazamento.checked"></ion-toggle>
          <ion-label>
            <p>{{ aprazamento?.aprazamento?.itemPrescricao?.descricaoItem &&
              aprazamento?.aprazamento?.itemPrescricao?.administracao &&
              aprazamento?.aprazamento?.itemPrescricao?.frequencia ?
              aprazamento.aprazamento.itemPrescricao.descricaoItem + ' - ' +
              aprazamento.aprazamento.itemPrescricao.administracao + ' - ' +
              aprazamento.aprazamento.itemPrescricao.frequencia + 'h/' +
              aprazamento.aprazamento.itemPrescricao.frequencia + 'h' : 'Medicamento não identificado'}}</p>
            <p><strong>Prescrição:</strong> {{ aprazamento?.aprazamento?.cdPrescricao ?
              aprazamento.aprazamento.cdPrescricao : 'Não identificado' }}</p>
            <p><strong>Horário:</strong> {{ aprazamento?.aprazamento?.horarioInicial ?
              (aprazamento.aprazamento.horarioInicial | date:'dd/MM/yyyy HH:mm') : 'Não identificado' }}</p>
          </ion-label>
        </ion-item>
      </ion-list>
    </div>
    <div *ngSwitchCase="'detalhes'">
      <p><strong>Data de nascimento:</strong> {{ prontuario?.dataNascimento ?
        prontuario.dataNascimento : 'Não identificado' }}</p>
      <p><strong>Sexo:</strong> {{ prontuario?.sexo ? prontuario.sexo : 'Não identificado' }}</p>
      <p><strong>Nome da Mãe:</strong> {{ prontuario?.nomeMae ? prontuario.nomeMae : 'Não identificado' }}</p>
      <p><strong>Prontuário:</strong> {{ prontuario?.prontuario ? prontuario.prontuario : 'Não identificado' }}</p>
    </div>
  </div>
  <ion-fab right bottom>
    <button ion-fab color="secondary" (click)="confirm()" [disabled]="getAprazamentosChecked().length === 0 || isModalRunning">
      <ion-icon name="checkmark"></ion-icon>
    </button>
  </ion-fab>

</ion-content>